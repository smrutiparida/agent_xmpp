$:.unshift('lib')
require 'rubygems'
require 'agent_xmpp'

##############################################################################################################
class TestClient
  
  #.........................................................................................................
  @client = AgentXmpp::Client.new(File.open('test/test_client/test_client.yml') {|yf| YAML::load(yf)})
  
  ####------------------------------------------------------------------------------------------------------
  class << self
    
    #.........................................................................................................
    attr_accessor :client
    
    #.........................................................................................................
    def send
      @client.connect
      @client.add_deligate(self)
      yield @client if block_given?
      @client.close_connection
    end
       
  end
  
#### TestClientManger  
end

##############################################################################################################
$c = TestClient

