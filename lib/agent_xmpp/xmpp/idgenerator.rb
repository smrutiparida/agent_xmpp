# Original from XMPP4R - XMPP Library for Ruby Website::http://home.gna.org/xmpp4r/
##############################################################################################################
module AgentXmpp

  #####-------------------------------------------------------------------------------------------------------
  module Xmpp

    #####-------------------------------------------------------------------------------------------------------
    class IdGenerator

      #.......................................................................................................
      @last_id = 0

      #.......................................................................................................
      class << self

        #.......................................................................................................
        def generate_id
          @last_id += 1
          timefrac = Time.new.to_f.to_s.split(/\./, 2).last[-3..-1]
          "#{@last_id}#{timefrac}"
        end

      #### self
      end
    
    #### IdGenerator
    end
    
  #### XMPP
  end

#### AgentXmpp
end
