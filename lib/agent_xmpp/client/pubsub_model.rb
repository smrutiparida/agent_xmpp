##############################################################################################################
module AgentXmpp
  
  #####-------------------------------------------------------------------------------------------------------
  class PublishedModel

    #.........................................................................................................
    def initialize(items)
      @items = items
    end

    #.........................................................................................................
    def find_all
      @items.collect{|i| PublishedItem.new(i)}
    end

  #### PublishedModel
  end

  #####-------------------------------------------------------------------------------------------------------
  class PublishedItem

    #.........................................................................................................
    attr_reader :node, :description
      
    #.........................................................................................................
    def initialize(pub)
      @node = pub['node']
      @description = pub['description']
    end

  #### PublishedItem
  end

  #####-------------------------------------------------------------------------------------------------------
  class SubscribedModel

    #.........................................................................................................
    def initialize(items)
      @items = items
    end

    #.........................................................................................................
    def find_all
      @items.collect{|i| SubscribedItem.new(i)}
    end

  #### SubscribedModel
  end

  #####-------------------------------------------------------------------------------------------------------
  class SubscribedItem

    #.........................................................................................................
    attr_reader :node
      
    #.........................................................................................................
    def initialize(sub)
      @node = sub['node']
      @jid = sub['jid']
    end

    #.........................................................................................................
    def jid
      AgentXmpp::Xmpp::JID.new(@jid)
    end

  #### SubscribedItem
  end

#### AgentXmpp
end
