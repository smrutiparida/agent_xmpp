##############################################################################################################
module AgentXmpp
  
  #####-------------------------------------------------------------------------------------------------------
  def Message(msg, &blk)
    Message.new(msg, &blk)
  end
  
  #####-------------------------------------------------------------------------------------------------------
  class Message

    #.........................................................................................................
    attr_reader :text, :response

    #.........................................................................................................
    def initialize(msg, &blk)
      @text = msg.to_s
      @response = blk
    end

    #.........................................................................................................
    def method_missing(meth, *args, &blk)
      @text.send(meth, *args, &blk)
    end

  #### Message
  end

#### AgentXmpp
end
