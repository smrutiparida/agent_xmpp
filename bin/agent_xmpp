#!/usr/bin/env ruby

####------------------------------------------------------------------------------------------------------
require 'rubygems'
require 'optparse'
require 'agent_xmpp'
  
####------------------------------------------------------------------------------------------------------
OptionParser.new do |opts|
  opts.banner = 'Usage: agent_xmpp.rb [options]'
  opts.separator ''
  opts.on('-p', '--path path', 'application path') {|p| AgentXmpp.app_path = p}
  opts.on('-c', '--config config.yml', 'YAML agent configuration file relative to application path') {|f| AgentXmpp.config_file = f}
  opts.on('-l', '--logfile file.log', 'name of logfile') {|f| AgentXmpp.log_file = f}
  opts.on_tail('-h', '--help', 'Show this message') {
    puts opts
    exit
  }
  opts.parse!(ARGV)
end

####------------------------------------------------------------------------------------------------------
AgentXmpp::Boot.boot